<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Axis Antivacância | App de Saúde</title>
  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-KJDNFPPW');</script>
  <!-- End Google Tag Manager -->

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
          },
          colors: {
            'app-red': '#FF4B4B',
            'app-red-light': '#FFEAEA',
            'app-blue': '#4B9EFF',
            'app-blue-light': '#EAF4FF',
            'app-green': '#4BFF8F',
            'app-bg': '#F5F5F7',
            'app-card': '#FFFFFF',
            'app-text': '#1C1C1E',
            'app-text-secondary': '#8E8E93',
          },
          boxShadow: {
            'floating': '0 20px 40px -10px rgba(0, 0, 0, 0.08)',
            'soft': '0 4px 20px -2px rgba(0, 0, 0, 0.05)',
            'glow-red': '0 10px 30px -5px rgba(255, 75, 75, 0.3)',
          },
          borderRadius: {
            '3xl': '1.75rem',
            '4xl': '2.25rem',
          }
        }
      }
    }
  </script>

  <style>
    /* Custom Styles */
    body {
      background-color: #F2F2F6;
      color: #1C1C1E;
    }
    
    .glass-card {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.6);
    }

    .app-card {
      background: white;
      border-radius: 1.75rem;
      box-shadow: 0 10px 30px -5px rgba(0,0,0,0.06);
      transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    
    .app-card:hover {
      transform: translateY(-4px) scale(1.01);
    }

    .organ-gradient-blue {
      background: linear-gradient(135deg, #4B9EFF 0%, #2D5BFF 100%);
    }
    
    .organ-gradient-red {
      background: linear-gradient(135deg, #FF4B4B 0%, #FF2D2D 100%);
    }

    .status-pill {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(8px);
      border-radius: 9999px;
      padding: 0.5rem 1rem;
      font-weight: 600;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    }

    /* Input Styling */
    .app-input {
      background: #F5F5F7;
      border: none;
      border-radius: 1rem;
      padding: 1rem 1.25rem;
      font-size: 1rem;
      font-weight: 500;
      width: 100%;
      color: #1C1C1E;
      transition: all 0.2s ease;
    }
    
    .app-input:focus {
      background: white;
      box-shadow: 0 0 0 2px #FF4B4B;
      outline: none;
    }

    /* Animation Classes */
    .fade-in-up {
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    }
    
    .delay-100 { animation-delay: 0.1s; }
    .delay-200 { animation-delay: 0.2s; }
    .delay-300 { animation-delay: 0.3s; }

    @keyframes fadeInUp {
      to { opacity: 1; transform: translateY(0); }
    }

    .locked-blur {
      filter: blur(12px);
      opacity: 0.5;
      pointer-events: none;
      transition: all 0.8s ease;
    }
    
    .unlocked {
      filter: blur(0);
      opacity: 1;
      pointer-events: auto;
    }
  </style>
</head>
<body class="antialiased min-h-screen pb-20">

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KJDNFPPW"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <div class="max-w-md mx-auto pt-12 px-6">
    
    <!-- Header / Nav -->
    <header class="flex justify-between items-center mb-10 fade-in-up">
      <div class="flex flex-col">
        <span class="text-app-text-secondary text-sm font-medium">Bem-vindo(a), Doutor(a)</span>
        <h1 class="text-2xl font-bold text-app-text">Diagnóstico Financeiro</h1>
      </div>
      <div class="w-12 h-12 rounded-full bg-gray-200 overflow-hidden border-2 border-white shadow-sm">
        <!-- Placeholder Avatar -->
        <svg class="w-full h-full text-gray-400 bg-gray-100" fill="currentColor" viewBox="0 0 24 24">
            <path d="M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z" />
        </svg>
      </div>
    </header>

    <!-- Hero Card (3D Style) -->
    <section class="mb-10 relative fade-in-up delay-100">
      <div class="app-card p-8 bg-white relative overflow-hidden">
        <!-- Decorative Blob -->
        <div class="absolute -right-10 -top-10 w-40 h-40 bg-app-red opacity-10 rounded-full blur-3xl"></div>
        
        <h2 class="text-3xl font-extrabold mb-4 leading-tight">
          Saúde da sua <br><span class="text-app-red">Agenda</span>
        </h2>
        <p class="text-app-text-secondary mb-8 leading-relaxed">
          Cancelamentos são como uma hemorragia silenciosa. Vamos estancar isso agora?
        </p>
        
        <a href="#calculo" class="inline-block w-full text-center bg-app-red text-white font-bold py-4 rounded-full shadow-glow-red hover:bg-red-600 transition-colors">
          Iniciar Check-up
        </a>
      </div>
    </section>

    <!-- Calculator Section -->
    <section id="calculo" class="mb-10 fade-in-up delay-200">
      <div class="flex items-center justify-between mb-6">
        <h3 class="text-xl font-bold">Calculadora de Perdas</h3>
        <span class="text-xs font-semibold bg-gray-200 text-gray-600 px-3 py-1 rounded-full">Passo 1 de 2</span>
      </div>

      <div class="space-y-6">
        <!-- Input Group 1 -->
        <div class="app-card p-6 flex items-center gap-4">
          <div class="w-12 h-12 rounded-2xl bg-app-blue-light flex items-center justify-center text-app-blue">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
          <div class="flex-1">
            <label for="valor" class="block text-sm font-medium text-app-text-secondary mb-1">Valor da Consulta</label>
            <input id="valor" type="tel" inputmode="decimal" placeholder="R$ 400,00" class="app-input" autocomplete="off" />
          </div>
        </div>

        <!-- Input Group 2 -->
        <div class="app-card p-6 flex items-center gap-4">
          <div class="w-12 h-12 rounded-2xl bg-orange-100 flex items-center justify-center text-orange-500">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
            </svg>
          </div>
          <div class="flex-1">
            <label for="week" class="block text-sm font-medium text-app-text-secondary mb-1">Cancelamentos/Semana</label>
            <input id="week" type="number" min="0" inputmode="numeric" placeholder="3" class="app-input" autocomplete="off" />
          </div>
        </div>

        <!-- Input Group 3 -->
        <div class="app-card p-6 flex items-center gap-4">
          <div class="w-12 h-12 rounded-2xl bg-red-100 flex items-center justify-center text-red-500">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
          <div class="flex-1">
            <label for="month" class="block text-sm font-medium text-app-text-secondary mb-1">Cancelamentos/Mês</label>
            <input id="month" type="number" min="0" inputmode="numeric" placeholder="12" class="app-input" autocomplete="off" />
          </div>
        </div>
      </div>
    </section>

    <!-- Real-time Results (Floating Card) -->
    <section class="sticky top-6 z-50 mb-10 fade-in-up delay-300">
      <div class="glass-card rounded-[2rem] p-6 shadow-floating">
        <div class="flex justify-between items-end mb-2">
          <span class="text-sm font-semibold text-app-text-secondary">Você recuperaria</span>
          <span class="text-xs font-bold text-green-500 bg-green-50 px-2 py-1 rounded-lg">Mensal</span>
        </div>
        <div class="text-4xl font-extrabold text-app-text tracking-tight mb-1">
          R$ <span id="summary-month" class="text-app-blue">0</span>
        </div>
        <p class="text-sm text-app-text-secondary">
          Payback do Axis em <span id="summary-payback" class="font-bold text-app-text">0</span> dias
        </p>
      </div>
    </section>

    <!-- Locked Content Trigger -->
    <div id="locked-message" class="text-center py-10 bg-white rounded-3xl shadow-soft mb-10">
      <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
        </svg>
      </div>
      <h3 class="text-lg font-bold mb-2">Diagnóstico Completo</h3>
      <p class="text-app-text-secondary px-6 mb-4">Preencha os dados acima para liberar seu relatório detalhado.</p>
      <span id="unlock-feedback" class="text-xs font-bold text-app-red uppercase tracking-wider">Aguardando dados...</span>
    </div>

    <!-- Hidden Content (Blurred initially) -->
    <div id="post-calc" class="locked-blur">
      
      <!-- Detailed Stats -->
      <section class="grid grid-cols-2 gap-4 mb-10">
        <div class="app-card p-5 bg-red-50 border border-red-100">
          <span class="text-xs font-bold text-red-400 uppercase">Perda Anual</span>
          <div class="text-xl font-bold text-red-600 mt-1">R$ <span id="loss-year">0</span></div>
        </div>
        <div class="app-card p-5 bg-blue-50 border border-blue-100">
          <span class="text-xs font-bold text-blue-400 uppercase">Projeção 12m</span>
          <div class="text-xl font-bold text-blue-600 mt-1">R$ <span id="loss-decade">0</span></div>
        </div>
      </section>

      <!-- Solution Card -->
      <section class="app-card p-8 mb-10 bg-white">
        <h3 class="text-2xl font-bold mb-6">O Tratamento: Axis</h3>
        
        <div class="space-y-6">
          <div class="flex items-start gap-4">
            <div class="w-10 h-10 rounded-full bg-green-100 text-green-600 flex-shrink-0 flex items-center justify-center font-bold">1</div>
            <div>
              <h4 class="font-bold text-lg">Detecção Imediata</h4>
              <p class="text-app-text-secondary text-sm">O paciente cancela, o sistema identifica em < 1 segundo.</p>
            </div>
          </div>
          <div class="flex items-start gap-4">
            <div class="w-10 h-10 rounded-full bg-green-100 text-green-600 flex-shrink-0 flex items-center justify-center font-bold">2</div>
            <div>
              <h4 class="font-bold text-lg">Transplante de Horário</h4>
              <p class="text-app-text-secondary text-sm">Notifica a fila de espera e preenche a lacuna automaticamente.</p>
            </div>
          </div>
          <div class="flex items-start gap-4">
            <div class="w-10 h-10 rounded-full bg-green-100 text-green-600 flex-shrink-0 flex items-center justify-center font-bold">3</div>
            <div>
              <h4 class="font-bold text-lg">Alta Médica</h4>
              <p class="text-app-text-secondary text-sm">Agenda cheia, zero esforço da recepção.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- CTA Buttons -->
      <section class="space-y-4 mb-12">
        <a href="../captura/avista.html" class="block w-full py-5 rounded-full bg-app-text text-white text-center font-bold text-lg shadow-lg hover:bg-black transition-colors">
          Comprar Axis (R$ 1.997)
        </a>
        <a href="https://wa.me/5547996475947" class="block w-full py-5 rounded-full bg-white text-app-text border-2 border-gray-100 text-center font-bold text-lg hover:bg-gray-50 transition-colors">
          Falar no WhatsApp
        </a>
        <p class="text-center text-xs text-app-text-secondary mt-4">
          Garantia incondicional de 15 dias.
        </p>
      </section>

    </div>

  </div>

  <!-- Logic Script -->
  <script>
    const valor = document.getElementById('valor');
    const week = document.getElementById('week');
    const month = document.getElementById('month');
    
    const summaryMonth = document.getElementById('summary-month');
    const summaryPayback = document.getElementById('summary-payback');
    const lossYear = document.getElementById('loss-year');
    const lossDecade = document.getElementById('loss-decade');
    
    const unlockFeedback = document.getElementById('unlock-feedback');
    const postCalc = document.getElementById('post-calc');
    const lockedMessage = document.getElementById('locked-message');

    const currencyFormat = new Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL', minimumFractionDigits: 2 });

    function formatCurrencyInput(el) {
      if(!el) return;
      const digits = el.value.replace(/\D/g,'');
      const normalized = digits.replace(/^0+/, '');
      el.dataset.raw = normalized;
      if(!normalized) {
        el.value = '';
        return;
      }
      const numeric = Number(normalized)/100;
      el.value = currencyFormat.format(numeric);
    }

    function getValorNumber() {
      const raw = valor.dataset.raw || '';
      if(!raw) return 0;
      return Number(raw)/100;
    }

    function updateNumber(el, value) {
      if(!el) return;
      const formatted = value.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
      el.textContent = formatted;
    }

    function checkUnlock() {
      const valorFilled = getValorNumber() > 0;
      const weekFilled = Number(week.value) > 0;
      const monthFilled = Number(month.value) > 0;
      const allFilled = valorFilled && (weekFilled || monthFilled);

      if (allFilled) {
        postCalc.classList.remove('locked-blur');
        postCalc.classList.add('unlocked');
        lockedMessage.style.display = 'none';
      } else {
        const missing = 3 - [valorFilled, weekFilled, monthFilled].filter(Boolean).length;
        unlockFeedback.textContent = `Preencha os campos restantes...`;
      }
    }

    function calc() {
      const ticket = getValorNumber();
      const weekly = Number(week.value) || 0;
      const monthlyCancels = Number(month.value) || 0;
      
      const cancels = monthlyCancels > 0 ? monthlyCancels : weekly * 4;
      const monthly = ticket * cancels;
      const annual = monthly * 12;
      const decade = annual * 10; // Projeção longa (usada como "Perda Total" no contexto)
      
      const dailyLoss = monthly / 30;
      const paybackDays = dailyLoss > 0 ? Math.max(Math.ceil(1997 / dailyLoss), 1) : 0;

      updateNumber(summaryMonth, monthly);
      summaryPayback.textContent = paybackDays;
      updateNumber(lossYear, annual);
      updateNumber(lossDecade, annual); // Ajustado para ser anual projetado ou similar

      checkUnlock();
    }

    valor.addEventListener('input', (e) => { formatCurrencyInput(e.target); calc(); });
    week.addEventListener('input', calc);
    month.addEventListener('input', calc);
  </script>
</body>
</html>
